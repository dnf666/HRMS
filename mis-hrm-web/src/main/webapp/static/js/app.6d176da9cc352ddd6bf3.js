webpackJsonp([1],{0:function(e,t){},1:function(e,t){},2:function(e,t){},"497H":function(e,t){},Cybw:function(e,t){},D3kN:function(e,t){},DnfT:function(e,t){},JZIT:function(e,t){},NHnr:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=a("7+uW"),i=a("zL8q"),n=a.n(i),s=(a("tvR6"),{render:function(){var e=this.$createElement,t=this._self._c||e;return t("div",{attrs:{id:"app"}},[t("router-view")],1)},staticRenderFns:[]});var r=a("VU/8")({name:"App"},s,!1,function(e){a("ymcE")},null,null).exports,l=a("/ocq"),c=a("NYxO"),m={state:{},mutations:{},actions:{}},p={state:{isLogin:!1},mutations:{setIsLogin:function(e,t){e.isLogin=t}},actions:{}},d={state:{companyId:null},mutations:{setCompanyId:function(e,t){e.companyId=t}},actions:{}},u={state:{permission:null},mutations:{setPermission:function(e,t){e.permission=t}},actions:{}},h={isCollapse:function(e){return e.nav.isCollapse},isLogin:function(e){return e.login.isLogin},companyId:function(e){return e.companyId.companyId},permission:function(e){return e.permission.permission}};o.default.use(c.a);var f=new c.a.Store({strict:!1,modules:{nav:m,login:p,companyId:d,permission:u},getters:h}),b=window.sessionStorage.getItem("companyId"),v={data:function(){return{imageUrl:"../assets/images/logo.png",memberCount:"",memberCounting:"",projectCount:"",projectCounting:"",barNumber:"",dialogVisible:!1,dialogFormVisible:!1,formLabelWidth:"140px",newCompanyId:"",newCompanyName:"",newApplicantName:"",newOrganizationSize:"",newMainCategory:"",newViceCategory:"",newPassword:"",companyOutline:"",companyName:"",companyEmail:"",dashArray:100*Math.PI}},created:function(){var e=this,t=window.sessionStorage.getItem("companyId");this.$axios.get("/hrms/member/count.do",{params:{companyId:t}}).then(function(t){e.memberCount=t.data.object,e.countIncreaseMember()}).catch(function(e){console.log(e)}),this.$axios.get("/hrms/index/index.do",{params:{companyId:t}}).then(function(t){e.companyOutline=t.data.object.outline}),this.$axios.get("/hrms/company/company.do",{params:{email:t}}).then(function(t){e.companyName=t.data.object.name}),this.$axios.get("/hrms/project/count.do",{params:{companyId:t}}).then(function(t){e.projectCount=t.data.object,e.barNumber=t.data.object,e.progeressBar(e.barNumber),e.countIncreaseProject()}).catch(function(e){console.log(e)}),this.$axios.get("",{params:this.companyId}).then(function(t){e.imageUrl=t.data.imageUrl})},methods:{handleAvatarSuccess:function(e,t){this.imageUrl=URL.createObjectURL(t.raw)},beforeAvatarUpload:function(e){var t="image/jpeg"===e.type,a=e.size/1024/1024<2;return t||this.$message.error("上传头像图片只能是 JPG 格式!"),a||this.$message.error("上传头像图片大小不能超过 2MB!"),t&&a},countIncreaseMember:function(){var e=this,t=0;if(this.memberCounting=0,0!=this.memberCount)var a=setInterval(function(){t++,e.memberCounting=t,t==e.memberCount&&clearInterval(a)},100)},countIncreaseProject:function(){var e=this,t=0;if(this.projectCounting=0,0!=this.projectCount)var a=setInterval(function(){t++,e.projectCounting=t,t==e.projectCount&&clearInterval(a)},100)},progeressBar:function(e){var t=this.$refs.progeressBar.getContext("2d"),a=50,o=-.5*Math.PI,i=(3.6*e-90)*Math.PI/180,n=Math.PI/180*1,s=o;!function r(){s>=i||(s+n>i?s=i:s+=n,t.clearRect(0,0,100,100),t.beginPath(),t.lineWidth=10,t.strokeStyle="#e3e4e5",t.arc(a,a,40,-90*Math.PI/180,270*Math.PI/180),t.stroke(),t.beginPath(),t.lineWidth=10,t.strokeStyle="#1c86d1",t.arc(a,a,40,o,s),t.stroke(),t.fillStyle="#1d89d5",t.font="25px Microsoft Yahei",t.textAlign="center",t.fillText(Math.round((s-o)/(i-o)*e)+"%",a,62.5),requestAnimationFrame(r))}()},putCompanyOutline:function(){var e=this;this.$axios.post("/hrms/index/outline.do",{companyId:b,outline:this.companyOutline}).then(function(t){e.dialogVisible=!1,0!=t.data.status&&alert(t.data.message)}).catch(function(e){console.log(e)})}}},g={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("router-view"),e._v(" "),a("div",{staticClass:"top"},[a("div",{staticClass:"top1"},[a("div",{staticClass:"companyInfo"},[a("span",{staticClass:"cname"},[e._v(e._s(this.companyName))]),e._v(" "),a("br"),e._v(" "),a("a",{attrs:{title:"点击修改公司简介"},on:{click:function(t){e.dialogVisible=!0}}},[a("span",[e._v("简介:")]),a("span",[e._v(e._s(this.companyOutline))])]),e._v(" "),a("el-dialog",{attrs:{title:"修改公司简介",visible:e.dialogVisible,width:"40%"},on:{"update:visible":function(t){e.dialogVisible=t}}},[a("el-input",{staticClass:"editCompany",attrs:{type:"textarea",rows:6},model:{value:e.companyOutline,callback:function(t){e.companyOutline=t},expression:"companyOutline"}}),e._v(" "),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(t){e.dialogVisible=!1}}},[e._v("取 消")]),e._v(" "),a("el-button",{attrs:{type:"primary"},on:{click:function(t){e.putCompanyOutline()}}},[e._v("确 定")])],1)],1)],1)])]),e._v(" "),a("div",{staticClass:"mainInfo"},[a("div",{staticClass:"companyMember"},[e._v("\n      成员数量\n      "),a("div",{staticClass:"companyMember-child"},[a("i",{staticClass:"el-icon-tickets"}),e._v(" "),a("span",{ref:"member"},[e._v(e._s(e.memberCounting))]),e._v("/1000人\n      ")])]),e._v(" "),a("div",{staticClass:"projectCount"},[e._v("\n      项目数量\n      "),a("div",{staticClass:"projectBox"},[a("span",[a("canvas",{ref:"progeressBar",staticClass:"progeressBar",attrs:{width:"100",height:"100"}})]),e._v(" "),a("span",[a("div",{attrs:{id:"projectC"}},[a("span",{ref:"project"},[e._v(e._s(e.projectCounting))]),e._v("个\n          ")]),e._v(" "),a("p",{staticClass:"allProject"},[e._v("项目总数：100个")])])])])])],1)},staticRenderFns:[]};var w=a("VU/8")(v,g,!1,function(e){a("hKJA")},null,null).exports,_=(a("lDdF"),a("uXZL"),window.sessionStorage.getItem("companyId")),y={data:function(){return{isdisabledFn:!0,companyName:"",memberCount:0,show3:!1,currentPage:1,pagesize:10,tableData:[{companyId:"",num:"",name:"",email:"",sex:"",profession:"",department:"",grade:"",phoneNumber:"",whereAbout:""}],emailTips:"",studentIdTips:"",permission:"",value:"",isnext:[!1],multipleSelection:[],emailSelection:[],dialogFormVisible:!1,dialogVisible:!1,isDisabled:!1,formLabelWidth:"140px",radio:"0",filterRadio:null,checked:!0,filterCompanyId:"",filterNum:"",filterName:"",filterEmail:"",filterPhoneNumber:"",filterProfession:"",filterDepartment:"",filterGrade:"",filterWhereAbout:"",newCompanyId:"",newNum:"",newName:"",newSex:"",newEmail:"",newProfession:"",newDepartment:"",newGrade:"",newPhoneNumber:"",newWhereAbout:"",file:"",excelPath:""}},created:function(){var e=this;this.permission=window.sessionStorage.getItem("permission"),this.$axios.get("/hrms//company/company.do",{params:{email:_}}).then(function(t){e.companyName=t.data.object.name});var t=new URLSearchParams;t.append("page",this.currentPage),t.append("size",this.pagesize),this.$axios.post("/hrms//member/filter.do?"+t.toString(),{companyId:_}).then(function(t){e.tableData=t.data.object.data,e.memberCount=t.data.object.recordSize}).catch(function(e){alert(e)})},methods:{handleCurrentChange:function(e){var t=this;this.currentPage=e;var a=new URLSearchParams;a.append("page",this.currentPage),a.append("size",this.pagesize),this.$axios.post("/hrms//member/filter.do?"+a.toString(),{companyId:_}).then(function(e){console.log("展示第"+t.currentPage+"页成员信息成功"),t.tableData=e.data.object.data,t.memberCount=e.data.object.recordSize}).catch(function(e){alert(e)})},setPermission:function(e,t){var a=this;this.$axios.post("/hrms//manage/permission.do",{companyId:_,email:e,permission:t}).then(function(e){0==e.data.status?a.$message({type:"success",message:e.data.message}):a.$message({type:"warning",message:e.data.message})}).catch(function(e){alert(e)})},toggleSelection:function(e){var t=this;e?e.forEach(function(e){t.$refs.multipleTable.toggleRowSelection(e)}):this.$refs.multipleTable.clearSelection()},handleSizeChange:function(e){this.pagesize=e},inputEmail:function(e){(this.isdisabledFn=!0,this.isnext[0]=!0," "!=this.newEmail)?/^[\w\-\.]+@[\w\-\.]+(\.\w+)+$/.test(e)?(this.isnext[0]=!1,this.emailTips=" ",function(e){for(var t=0;t<1;t++)if(1==e.isnext[t])return;0==e.gre?e.isdisabledFn=!0:e.isdisabledFn=!1}(this)):this.emailTips="您输入的邮箱格式有误":this.emailTips=""},handleSelectionChange:function(e){for(var t=0;t<e.length;t++)this.multipleSelection[t]=e[t].num,this.emailSelection[t]=e[t].email},handleClose:function(e){this.$confirm("确认关闭？").then(function(t){e()}).catch(function(e){})},deleteMember:function(e,t){var a=this;this.$axios.post("/hrms//member/delMember.do?companyId="+_,{num:e,email:t}).then(function(t){if(1==t.data.code){for(var o=0;o<a.tableData.length;o++)a.tableData[o].num===e&&a.tableData.splice(o,1);a.$message({type:"success",message:"删除成功"}),a.memberCount--}else a.$message({type:"info",message:"已取消删除"})}).catch(function(e){alert(e)})},delData:function(){var e=this;this.$confirm("是否删除当前选中成员？","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){e.$axios.post("/hrms//member/delMember.do?companyId="+_,{num:e.multipleSelection.toString(),email:e.emailSelection.toString()}).then(function(e){window.location.reload()}).catch(function(e){alert(e)})}).catch(function(){e.$message({type:"error",message:"已取消删除"})})},addMember:function(){var e=this;this.dialogFormVisible=!1,0==this.radio?this.newSex="男":this.newSex="女",this.$axios.post("/hrms//member/member.do",{companyId:_,num:this.newNum,name:this.newName,sex:this.newSex,email:this.newEmail,grade:this.newGrade,department:this.newDepartment,phoneNumber:this.newPhoneNumber,profession:this.newProfession,whereAbout:this.newWhereAbout}).then(function(t){1==t.data.code?window.location.reload():e.$message({type:"error",message:t.data.msg})}).catch(function(e){alert(e)})},getFilterMemberInfo:function(){var e=this,t=new URLSearchParams;t.append("page",this.currentPage),t.append("size",this.pagesize),this.$axios.post("/hrms//member/filter.do?"+t.toString(),{companyId:_,num:this.filterNum,name:this.filterName,sex:this.filterRadio,email:this.filterEmail,profession:this.filterProfession,department:this.filterDepartment,grade:this.filterGrade,phoneNumber:this.filterPhoneNumber,whereAbout:this.filterWhereAbout}).then(function(t){e.tableData=t.data.object.data,e.memberCount=t.data.object.recordSize}).catch(function(e){alert(e)})},getExcel:function(e){this.file=e.target.files[0],console.log(this.file)},uploadExcel:function(e){var t=this;e.preventDefault();var a=new FormData;a.append("file",this.file),a.append("companyId",_),this.$axios.post("/hrms/member/excel.do",a).then(function(e){t.dialogVisible=!1,1==e.data.code?(t.$message({type:"success",message:e.data.msg}),window.location.reload()):t.$message({type:"error",message:e.data.msg})}).catch(function(e){alert(e)})},downloadExcel:function(){var e=this;this.$confirm("是否下载当前数据？","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"info"}).then(function(){e.$axios.post("/hrms/member/createExcel.do",{companyId:_,num:e.filterNum,name:e.filterName,sex:e.sex,email:e.filterEmail,profession:e.filterProfession,department:e.filterDepartment,grade:e.filterGrade,phoneNumber:e.filterPhoneNumber,whereAbout:e.filterWhereAbout},{responseType:"arraybuffer"}).then(function(t){var a=new Blob([t.data],{type:"application/vnd.ms-excel"}),o=document.createElement("a");o.href=window.URL.createObjectURL(a),o.download=_+"member.xls",o.click(),e.dialogVisible=!1}).catch(function(){e.$message({type:"info",message:"已取消下载"})})})},uploadExcelTemplate:function(){var e=this;this.$confirm("是否下载模板？","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"info"}).then(function(){e.$axios.post("/hrms/download.do?name=member.xlsx",{},{responseType:"arraybuffer"}).then(function(e){console.log(e);var t=new Blob([e.data],{type:"application/vnd.ms-excel"}),a=document.createElement("a");a.href=window.URL.createObjectURL(t),a.download="member.xlsx",a.click(),console.log("下载模板成功")}).catch(function(e){alert(e)})}).catch(function(){e.$message({type:"info",message:"已取消下载"})})}}},x={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("router-view"),e._v(" "),a("div",{staticClass:"member_top"},[e._v("成员管理")]),e._v(" "),a("div",{staticClass:"contentm"},[a("p",[e._v(e._s(this.companyName))]),e._v(" "),a("el-dropdown",{directives:[{name:"show",rawName:"v-show",value:1==e.permission,expression:"permission == 1"}],staticClass:"moreMenu",attrs:{"split-button":"",type:"primary"},on:{click:function(t){e.dialogFormVisible=!0}}},[e._v("\n      添加成员\n      "),a("el-dialog",{attrs:{title:"添加成员",visible:e.dialogFormVisible,"append-to-body":!0,top:"10px",width:"550px"},on:{"update:visible":function(t){e.dialogFormVisible=t}}},[a("el-form",{staticClass:"memberData"},[a("el-form-item",{attrs:{label:"邮箱*","label-width":e.formLabelWidth}},[a("el-input",{staticClass:"increaseInput",attrs:{placeholder:"登录邮箱"},on:{input:e.inputEmail},model:{value:e.newEmail,callback:function(t){e.newEmail=t},expression:"newEmail"}}),e._v(" "),a("span",{staticClass:"tip st"},[e._v(e._s(e.emailTips))])],1),e._v(" "),a("el-form-item",{attrs:{label:"学号*","label-width":e.formLabelWidth}},[a("el-input",{staticClass:"increaseInput",attrs:{placeholder:"正确填写学号"},model:{value:e.newNum,callback:function(t){e.newNum=t},expression:"newNum"}}),e._v(" "),a("span",{staticClass:"tip st"},[e._v(e._s(e.studentIdTips))])],1),e._v(" "),a("el-form-item",{attrs:{label:"姓名","label-width":e.formLabelWidth}},[a("el-input",{staticClass:"increaseInput",attrs:{placeholder:"真实姓名"},model:{value:e.newName,callback:function(t){e.newName=t},expression:"newName"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"性别","label-width":e.formLabelWidth}},[a("el-radio",{attrs:{label:"0"},model:{value:e.radio,callback:function(t){e.radio=t},expression:"radio"}},[e._v("男")]),e._v(" "),a("el-radio",{attrs:{label:"1"},model:{value:e.radio,callback:function(t){e.radio=t},expression:"radio"}},[e._v("女")])],1),e._v(" "),a("el-form-item",{attrs:{label:"年级","label-width":e.formLabelWidth}},[a("el-input",{staticClass:"increaseInput",model:{value:e.newGrade,callback:function(t){e.newGrade=t},expression:"newGrade"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"所属部门","label-width":e.formLabelWidth}},[a("el-input",{staticClass:"increaseInput",model:{value:e.newDepartment,callback:function(t){e.newDepartment=t},expression:"newDepartment"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"电话","label-width":e.formLabelWidth}},[a("el-input",{staticClass:"increaseInput",model:{value:e.newPhoneNumber,callback:function(t){e.newPhoneNumber=t},expression:"newPhoneNumber"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"专业","label-width":e.formLabelWidth}},[a("el-input",{staticClass:"increaseInput",model:{value:e.newProfession,callback:function(t){e.newProfession=t},expression:"newProfession"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"签约","label-width":e.formLabelWidth}},[a("el-input",{staticClass:"increaseInput",model:{value:e.newWhereAbout,callback:function(t){e.newWhereAbout=t},expression:"newWhereAbout"}})],1)],1),e._v(" "),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(t){e.dialogFormVisible=!1}}},[e._v("取 消")]),e._v(" "),a("el-button",{attrs:{type:"primary",disabled:e.isdisabledFn},on:{click:e.addMember}},[e._v("保存并添加下一个")])],1)],1),e._v(" "),a("el-dropdown-menu",{attrs:{slot:"dropdown"},slot:"dropdown"},[a("el-dropdown-item",[a("el-button",{attrs:{type:"text"},on:{click:function(t){e.dialogVisible=!0}}},[e._v("Excel导入")])],1),e._v(" "),a("el-dialog",{attrs:{title:"导入信息",visible:e.dialogVisible,top:"50px",left:"50px",width:"500px","append-to-body":!0,"before-close":e.handleClose},on:{"update:visible":function(t){e.dialogVisible=t}}},[a("span",[a("span",[a("h3",[e._v("①准备信息")]),e._v(" "),a("p",{staticClass:"upload"},[e._v("使用数据模板文件,录入组织与成员信息。为了保证成功，请根据表格中批注的数据格式并按照字段顺序进行录入。一次最多导入100人")]),e._v(" "),a("p",{staticClass:"upload uploadMould",on:{click:e.uploadExcelTemplate}},[a("i",{staticClass:"el-icon-download"}),e._v("\n                点击下载模板\n              ")])]),e._v(" "),a("span",[a("h3",[e._v("②上传数据文件")]),e._v(" "),a("p",{staticClass:"upload"},[e._v("目前支持的文件类型为 *.xls, *.xlsx")]),e._v(" "),a("a",{staticClass:"uploadExcel",attrs:{href:"javascript:;"}},[a("input",{attrs:{type:"file",multiple:"",name:"file",accept:"application/vnd.ms-excel,application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"},on:{change:function(t){e.getExcel(t)}}}),e._v("\n                添加文件\n              ")]),e._v(" "),a("div",{attrs:{id:"showExcelName"}},[e._v(e._s(this.file.name))])])]),e._v(" "),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(t){e.dialogVisible=!1}}},[e._v("取 消")]),e._v(" "),a("el-button",{attrs:{type:"primary"},on:{click:function(t){e.uploadExcel(t)}}},[e._v("确 定")])],1)]),e._v(" "),a("el-dropdown-item",[a("el-button",{attrs:{type:"text"},on:{click:e.downloadExcel}},[e._v("Excel导出")])],1)],1)],1),e._v(" "),a("el-button",{directives:[{name:"show",rawName:"v-show",value:1==e.permission,expression:"permission == 1"}],attrs:{type:"danger",disabled:e.isDisabled},on:{click:function(t){t.preventDefault(),e.delData()}}},[e._v("\n      删除选中成员\n    ")]),e._v(" "),a("el-button",{staticClass:"filterDown",on:{click:function(t){e.show3=!e.show3}}},[e._v("筛选\n    ")]),e._v(" "),a("div",{staticStyle:{"margin-top":"10px"}},[a("el-collapse-transition",[a("div",{directives:[{name:"show",rawName:"v-show",value:e.show3,expression:"show3"}]},[a("div",{staticClass:"transition-box"},[a("span",[e._v("学号："),a("el-input",{staticClass:"filter",model:{value:e.filterNum,callback:function(t){e.filterNum=t},expression:"filterNum"}})],1),e._v(" "),a("span",[e._v("姓名："),a("el-input",{staticClass:"filter",model:{value:e.filterName,callback:function(t){e.filterName=t},expression:"filterName"}})],1),e._v(" "),a("span",[e._v("邮箱："),a("el-input",{staticClass:"filter",model:{value:e.filterEmail,callback:function(t){e.filterEmail=t},expression:"filterEmail"}})],1),e._v(" "),a("br"),e._v(" "),a("span",[e._v("性别：\n              "),a("el-radio",{staticClass:"sex",attrs:{label:"男"},model:{value:e.filterRadio,callback:function(t){e.filterRadio=t},expression:"filterRadio"}},[e._v("男")]),e._v(" "),a("el-radio",{staticClass:"sex",attrs:{label:"女"},model:{value:e.filterRadio,callback:function(t){e.filterRadio=t},expression:"filterRadio"}},[e._v("女")])],1),e._v(" "),a("span",[e._v("电话："),a("el-input",{staticClass:"filter",model:{value:e.filterPhoneNumber,callback:function(t){e.filterPhoneNumber=t},expression:"filterPhoneNumber"}})],1),e._v(" "),a("span",[e._v("专业："),a("el-input",{staticClass:"filter",model:{value:e.filterProfession,callback:function(t){e.filterProfession=t},expression:"filterProfession"}})],1),e._v(" "),a("br"),e._v(" "),a("span",[e._v("部门："),a("el-input",{staticClass:"filter",model:{value:e.filterDepartment,callback:function(t){e.filterDepartment=t},expression:"filterDepartment"}})],1),e._v(" "),a("span",[e._v("年级："),a("el-input",{staticClass:"filter",model:{value:e.filterGrade,callback:function(t){e.filterGrade=t},expression:"filterGrade"}})],1),e._v(" "),a("span",[e._v("签约："),a("el-input",{staticClass:"filter",model:{value:e.filterWhereAbout,callback:function(t){e.filterWhereAbout=t},expression:"filterWhereAbout"}})],1),e._v(" "),a("el-button",{staticClass:"primary",attrs:{type:"primary"},on:{click:e.getFilterMemberInfo}},[e._v("筛选")])],1)])])],1),e._v(" "),a("hr"),e._v(" "),a("el-table",{ref:"multipleTable",staticClass:"memberData",staticStyle:{width:"100%"},attrs:{id:"out-table",data:e.tableData,"tooltip-effect":"dark"},on:{"selection-change":e.handleSelectionChange}},[1==e.permission?a("el-table-column",{attrs:{type:"selection",width:"55"}}):e._e(),e._v(" "),a("el-table-column",{attrs:{width:"50"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-dropdown",{directives:[{name:"show",rawName:"v-show",value:1==e.permission,expression:"permission == 1"}]},[a("span",{staticClass:"el-dropdown-link"},[a("i",{staticClass:"editor el-icon-caret-bottom"})]),e._v(" "),a("el-dropdown-menu",{attrs:{slot:"dropdown"},slot:"dropdown"},[a("el-dropdown-item",[a("router-link",{attrs:{to:{path:"/MemberMangement/Editor",query:{memberOriginalInfo:t.row}}}},[e._v("\n                  编辑成员\n                ")])],1),e._v(" "),a("el-dropdown-item",[a("span",{on:{click:function(a){e.deleteMember(t.row.num,t.row.email)}}},[e._v("\n                删除成员\n                ")])]),e._v(" "),a("el-dropdown-item",[a("span",{on:{click:function(a){e.setPermission(t.row.email,1)}}},[e._v("\n                授予权限\n                ")])]),e._v(" "),a("el-dropdown-item",[a("span",{on:{click:function(a){e.setPermission(t.row.email,2)}}},[e._v("\n                取消权限\n                ")])])],1)],1)]}}])}),e._v(" "),a("el-table-column",{attrs:{type:"expand"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-form",{staticClass:"demo-table-expand",attrs:{"label-position":"right",inline:""}},[a("el-form-item",{attrs:{label:"电话"}},[a("span",[e._v(e._s(t.row.phoneNumber))])]),a("br"),e._v(" "),a("el-form-item",{attrs:{label:"性别"}},[a("span",[e._v(e._s(t.row.sex))])]),a("br"),e._v(" "),a("el-form-item",{attrs:{label:"专业"}},[a("span",[e._v(e._s(t.row.profession))])]),a("br"),e._v(" "),a("el-form-item",{attrs:{label:"年级"}},[a("span",[e._v(e._s(t.row.grade))])]),a("br"),e._v(" "),a("el-form-item",{attrs:{label:"部门"}},[a("span",[e._v(e._s(t.row.department))])]),a("br")],1)]}}])}),e._v(" "),a("el-table-column",{staticClass:"memberInfo",attrs:{id:"studentId",label:"学号",width:"200",align:"center","show-overflow-tooltip":!0},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(e._s(t.row.num))]}}])}),e._v(" "),a("el-table-column",{attrs:{prop:"name",label:"姓名",width:"200",align:"center","show-overflow-tooltip":!0}}),e._v(" "),a("el-table-column",{attrs:{prop:"email",label:"邮箱",width:"200",align:"center","show-overflow-tooltip":!0}}),e._v(" "),a("el-table-column",{attrs:{prop:"whereAbout",label:"签约",align:"center","show-overflow-tooltip":!0}})],1),e._v(" "),a("el-pagination",{staticClass:"pagination",attrs:{background:"","current-page":e.currentPage,"page-size":e.pagesize,"page-sizes":[5,7,10],layout:"total, sizes, prev, pager, next, jumper",total:e.memberCount},on:{"current-change":e.handleCurrentChange,"size-change":e.handleSizeChange}})],1)],1)},staticRenderFns:[]};var C=a("VU/8")(y,x,!1,function(e){a("ONiP")},null,null).exports,I=a("mvHQ"),k=a.n(I),j=window.sessionStorage.getItem("companyId"),P={data:function(){return{activeName:"first",formLabelWidth:"70px",radio:this.$route.query.memberOriginalInfo.radio,companyId:this.$route.query.memberOriginalInfo.companyId,num:this.$route.query.memberOriginalInfo.num,name:this.$route.query.memberOriginalInfo.name,email:this.$route.query.memberOriginalInfo.email,sex:this.$route.query.memberOriginalInfo.sex,profession:this.$route.query.memberOriginalInfo.profession,department:this.$route.query.memberOriginalInfo.department,grade:this.$route.query.memberOriginalInfo.grade,phoneNumber:this.$route.query.memberOriginalInfo.phoneNumber,whereAbout:this.$route.query.memberOriginalInfo.whereAbout}},created:function(){"女"==this.$route.query.memberOriginalInfo.sex?this.radio="1":this.radio="0"},methods:{returnMemberMangement:function(){this.$router.push({name:"MemberMangement"})},putEditorMemberInfo:function(){var e=this;"0"==this.radio&&(this.sex="男"),"1"==this.radio&&(this.sex="女");var t={companyId:this.companyId,num:this.num,name:this.name,email:this.email,sex:this.sex,profession:this.profession,department:this.department,grade:this.grade,phoneNumber:this.phoneNumber,whereAbout:this.whereAbout},a=k()(t);this.$axios.put("/hrms/member/member.do?companyId="+j,{companyId:this.companyId,num:this.num,name:this.name,email:this.email,sex:this.sex,profession:this.profession,department:this.department,grade:this.grade,phoneNumber:this.phoneNumber,whereAbout:this.whereAbout}).then(function(t){e.$router.push({name:"MemberMangement",params:{changedInfo:a}})}).catch(function(e){console.log(e)})}}},$={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("div",{staticClass:"editorTop"},[a("span",[e._v("当前位置：")]),e._v(" "),a("el-breadcrumb",{staticClass:"breadcrumbEditor",attrs:{separator:">"}},[a("el-breadcrumb-item",[e._v("公司设置")]),e._v(" "),a("el-breadcrumb-item",{attrs:{to:{path:"/MemberMangement"}}},[e._v("成员管理")]),e._v(" "),a("el-breadcrumb-item",[e._v("编辑成员")])],1)],1),e._v(" "),a("div",{attrs:{id:"editorTitle"}},[e._v("编辑成员")]),e._v(" "),a("el-tabs",{staticClass:"tabsEditor",attrs:{type:"card"},model:{value:e.activeName,callback:function(t){e.activeName=t},expression:"activeName"}},[a("el-tab-pane",{attrs:{label:"基本信息",name:"first"}},[a("el-form",[a("el-form-item",{attrs:{label:"学号*","label-width":e.formLabelWidth}},[a("el-input",{staticClass:"increaseInput",attrs:{disabled:"disabled",placeholder:"正确填写学号"},model:{value:e.num,callback:function(t){e.num=t},expression:"num"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"姓名","label-width":e.formLabelWidth}},[a("el-input",{staticClass:"increaseInput",attrs:{placeholder:"真实姓名"},model:{value:e.name,callback:function(t){e.name=t},expression:"name"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"邮箱*","label-width":e.formLabelWidth}},[a("el-input",{staticClass:"increaseInput",attrs:{disabled:"disabled",placeholder:"登录邮箱"},model:{value:e.email,callback:function(t){e.email=t},expression:"email"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"性别","label-width":e.formLabelWidth}},[a("el-radio",{attrs:{label:"0"},model:{value:e.radio,callback:function(t){e.radio=t},expression:"radio"}},[e._v("男")]),e._v(" "),a("el-radio",{attrs:{label:"1"},model:{value:e.radio,callback:function(t){e.radio=t},expression:"radio"}},[e._v("女")])],1),e._v(" "),a("el-form-item",{attrs:{label:"部门","label-width":e.formLabelWidth}},[a("el-input",{staticClass:"increaseInput",model:{value:e.department,callback:function(t){e.department=t},expression:"department"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"电话","label-width":e.formLabelWidth}},[a("el-input",{staticClass:"increaseInput",model:{value:e.phoneNumber,callback:function(t){e.phoneNumber=t},expression:"phoneNumber"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"专业","label-width":e.formLabelWidth}},[a("el-input",{staticClass:"increaseInput",model:{value:e.profession,callback:function(t){e.profession=t},expression:"profession"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"签约","label-width":e.formLabelWidth}},[a("el-input",{staticClass:"increaseInput",model:{value:e.whereAbout,callback:function(t){e.whereAbout=t},expression:"whereAbout"}})],1)],1),e._v(" "),a("div",{staticClass:"sure"},[a("el-button",{on:{click:e.returnMemberMangement}},[e._v("取 消")]),e._v(" "),a("el-button",{attrs:{type:"primary"},on:{click:e.putEditorMemberInfo}},[e._v("保 存")])],1)],1)],1)],1)},staticRenderFns:[]};var S=a("VU/8")(P,$,!1,function(e){a("Cybw")},null,null).exports,N=window.sessionStorage.getItem("companyId"),E={data:function(){return{companyName:"",bookCount:0,activeNames:["1"],input10:"",show3:!1,currentPage:1,pagesize:10,tableData:[{companyId:"",bookId:"",bookName:"",category:"",num:"",version:""}],isDisabled:!1,dialogFormVisible:!1,dialogVisible:!1,formLabelWidth:"140px",loading:!1,searchForm:{id:"",name:"",state:""},multipleSelection:[],deleteVisible:!1,editFormVisible:!1,addname:"",addcategory:"",addquantity:"",addversion:"",newBookId:"",newBookName:"",newCategory:"",newQuantity:"",newVersion:"",filterBookId:"",filterBookName:"",filterCategory:"",filterQuantity:"",filterVersion:"",file:"",permission:""}},created:function(){var e=this;this.permission=window.sessionStorage.getItem("permission"),this.$axios.get("/hrms//company/company.do",{params:{email:N}}).then(function(t){e.companyName=t.data.object.name});var t=new URLSearchParams;t.append("currentPage",this.currentPage),t.append("size",this.pagesize),this.$axios.post("/hrms/book/filter.do?"+t.toString(),{companyId:N}).then(function(t){e.tableData=t.data.object.data,e.bookCount=t.data.object.recordSize}).catch(function(e){})},methods:{removeSelection:function(){var e=this;this.$confirm("是否删除当前选中项目？","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){e.$axios.post("/hrms//book/delBook.do",{bookId:e.multipleSelection.toString(),companyId:N}).then(function(e){window.location.reload()}).catch(function(e){alert(e)})}).catch(function(){e.$message({type:"info",message:"已取消删除"})})},handleCurrentChange:function(e){var t=this;this.currentPage=e;var a=new URLSearchParams;a.append("currentPage",this.currentPage),a.append("size",this.pagesize),this.$axios.post("/hrms//book/filter.do?"+a.toString(),{companyId:N}).then(function(e){t.tableData=e.data.object.data}).catch(function(e){alert(e)})},getExcel:function(e){this.file=e.target.files[0]},uploadExcel:function(e){var t=this;e.preventDefault();var a=new FormData;a.append("file",this.file),a.append("companyId",N),this.$axios.post("/hrms/book/excel.do",a).then(function(e){t.dialogVisible=!1,1==e.data.code?(t.$message({type:"success",message:e.data.msg}),window.location.reload()):t.$message({type:"error",message:e.data.msg})}).catch(function(e){console.log("上传文件失败"),alert(e)})},downloadExcel:function(){var e=this;this.$confirm("是否下载当前数据？","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"info"}).then(function(){var t=new Object;""!=e.filterBookId&&(t.bookId=e.filterBookId),t.companyId=N,""!=e.filterBookName&&(t.bookName=e.filterBookName),""!=e.filterCategory&&(t.category=e.filterCategory),""!=e.filterVersion&&(t.version=e.filterVersion),""!=e.quantity&&(t.quantity=parseInt(e.filterQuantity)),t.version=e.version,e.$axios.post("/hrms/book/createExcel.do",t,{responseType:"arraybuffer"}).then(function(t){console.log(t);var a=new Blob([t.data],{type:"application/vnd.ms-excel"}),o=document.createElement("a");o.href=window.URL.createObjectURL(a),o.download=N+"book.xls",o.click(),e.dialogVisible=!1}).catch(function(){e.$message({type:"info",message:"已取消下载"})})})},addDataSave:function(){var e=this;this.dialogFormVisible=!1,this.$axios.post("/hrms/book/book.do",{companyId:N,bookName:this.addname,category:this.addcategory,quantity:parseInt(this.addquantity),version:this.addversion}).then(function(t){1==t.data.code?(e.$message({type:"success",message:"添加成功!"}),window.location.reload()):e.$message({type:"error",message:"添加失败!"})}).catch(function(e){alert(e)})},handleSizeChange:function(e){this.pagesize=e},handleChange:function(e){console.log(e)},toggleSelection:function(e){var t=this;e?e.forEach(function(e){t.$refs.multipleTable.toggleRowSelection(e)}):this.$refs.multipleTable.clearSelection()},handleSelectionChange:function(e){for(var t=0;t<e.length;t++)this.multipleSelection[t]=e[t].bookId},handleRemove:function(e,t){console.log(e,t)},handlePreview:function(e){console.log(e)},handleExceed:function(e,t){this.$message.warning("当前限制选择 3 个文件，本次选择了 "+e.length+" 个文件，共选择了 "+(e.length+t.length)+" 个文件")},beforeRemove:function(e,t){return this.$confirm("确定移除 "+e.name+"？")},deleteBook:function(e){var t=this,a=new Object;a.companyId=N,a.bookId=e,this.$axios.post("/hrms//book/delBook.do",a).then(function(a){1==a.data.code&&t.$message({type:"success",message:"删除成功!"});for(var o=0;o<t.tableData.length;o++)t.tableData.forEach(function(a,o){a.bookId===e&&t.tableData.splice(o,1)})})},uploadExcelTemplate:function(){var e=this;this.$confirm("是否下载模板？","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warn"}).then(function(){e.$axios.post("/hrms/download.do?name=book.xlsx",{},{responseType:"arraybuffer"}).then(function(e){var t=new Blob([e.data],{type:"application/vnd.ms-excel"}),a=document.createElement("a");a.href=window.URL.createObjectURL(t),a.download="导入数据模板.xlsx",a.click(),console.log("下载模板成功")}).catch(function(e){alert(e)})}).catch(function(){e.$message({type:"info",message:"已取消下载"})})},filterBook:function(){var e=this,t=new URLSearchParams;t.append("currentPage",this.currentPage),t.append("size",this.pagesize);var a=new Object;""!=this.filterBookId&&(a.bookId=this.filterBookId),a.companyId=N,""!=this.filterBookName&&(a.bookName=this.filterBookName),""!=this.filterCategory&&(a.category=this.filterCategory),""!=this.filterVersion&&(a.version=this.filterVersion),""!=this.quantity&&(a.quantity=parseInt(this.filterQuantity)),this.$axios.post("/hrms/book/filter.do?"+t.toString(),a).then(function(t){e.tableData=t.data.object.data,e.bookCount=t.data.object.recordSize})}}},T={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("router-view"),e._v(" "),a("div",{staticClass:"book_top"},[e._v("图书管理")]),e._v(" "),a("div",{staticClass:"contentB"},[a("p",[e._v(e._s(this.companyName))]),e._v(" "),a("el-dropdown",{directives:[{name:"show",rawName:"v-show",value:1==e.permission,expression:"permission == 1"}],staticClass:"moreMenu",attrs:{"split-button":"",type:"primary"},on:{click:function(t){e.dialogFormVisible=!0}}},[e._v("\n      添加图书\n      "),a("el-dialog",{attrs:{title:"添加图书",visible:e.dialogFormVisible,"append-to-body":!0,top:"100px",width:"550px",center:""},on:{"update:visible":function(t){e.dialogFormVisible=t}}},[a("el-form",[a("el-form-item",{attrs:{label:"图书名称","label-width":e.formLabelWidth}},[a("el-input",{staticClass:"increaseInput",attrs:{placeholder:"正确填写书名"},model:{value:e.addname,callback:function(t){e.addname=t},expression:"addname"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"图书类型","label-width":e.formLabelWidth}},[a("el-input",{staticClass:"increaseInput",attrs:{placeholder:"前端/后台/产品"},model:{value:e.addcategory,callback:function(t){e.addcategory=t},expression:"addcategory"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"图书数量","label-width":e.formLabelWidth}},[a("el-input-number",{attrs:{min:1,max:10,label:"描述文字"},on:{change:e.handleChange},model:{value:e.addquantity,callback:function(t){e.addquantity=t},expression:"addquantity"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"图书版本","label-width":e.formLabelWidth}},[a("el-input",{staticClass:"increaseInput",model:{value:e.addversion,callback:function(t){e.addversion=t},expression:"addversion"}})],1)],1),e._v(" "),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(t){e.dialogFormVisible=!1}}},[e._v("取 消")]),e._v(" "),a("el-button",{attrs:{type:"primary"},on:{click:e.addDataSave}},[e._v("保存")])],1)],1),e._v(" "),a("el-dropdown-menu",{attrs:{slot:"dropdown"},slot:"dropdown"},[a("el-dropdown-item",[a("el-button",{attrs:{type:"text"},on:{click:function(t){e.dialogVisible=!0}}},[e._v("Excel导入")])],1),e._v(" "),a("el-dialog",{attrs:{title:"导入信息",visible:e.dialogVisible,top:"50px",left:"50px",width:"500px","append-to-body":!0},on:{"update:visible":function(t){e.dialogVisible=t}}},[a("span",[a("span",[a("h3",[e._v("①准备信息")]),e._v(" "),a("p",{staticClass:"upload"},[e._v("使用数据模板文件,录入数据。为了保证成功，请根据表格中批注的数据格式并按照字段顺序进行录入。一次最多导入100条数据。")]),e._v(" "),a("p",{staticClass:"upload uploadMould",on:{click:e.uploadExcelTemplate}},[a("i",{staticClass:"el-icon-download"}),e._v("\n                点击下载模板\n              ")])]),e._v(" "),a("span",[a("h3",[e._v("②上传数据文件")]),e._v(" "),a("p",{staticClass:"upload"},[e._v("目前支持的文件类型为 *.xls, *.xlsx")]),e._v(" "),a("a",{staticClass:"uploadExcel",attrs:{href:"javascript:;"}},[a("input",{attrs:{type:"file",multiple:"",name:"file",accept:"application/vnd.ms-excel,application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"},on:{change:function(t){e.getExcel(t)}}}),e._v("\n                添加文件\n              ")]),e._v(" "),a("div",{attrs:{id:"showExcelName"}},[e._v(e._s(this.file.name))])])]),e._v(" "),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(t){e.dialogVisible=!1}}},[e._v("取 消")]),e._v(" "),a("el-button",{attrs:{type:"primary"},on:{click:function(t){e.uploadExcel(t)}}},[e._v("确 定")])],1)]),e._v(" "),a("el-dropdown-item",[a("el-button",{attrs:{type:"text"},on:{click:e.downloadExcel}},[e._v("Excel导出")])],1)],1)],1),e._v(" "),a("el-button",{directives:[{name:"show",rawName:"v-show",value:1==e.permission,expression:"permission == 1"}],attrs:{type:"danger",disabled:e.isDisabled},on:{click:function(t){t.preventDefault(),e.removeSelection()}}},[e._v("\n      删除选中图书\n    ")]),e._v(" "),a("el-button",{staticClass:"filterDown",on:{click:function(t){e.show3=!e.show3}}},[e._v("筛选\n    ")]),e._v(" "),a("div",{staticStyle:{"margin-top":"10px"}},[a("el-collapse-transition",[a("div",{directives:[{name:"show",rawName:"v-show",value:e.show3,expression:"show3"}]},[a("div",{staticClass:"transition-box"},[a("span",[e._v("图书名："),a("el-input",{staticClass:"filter",model:{value:e.filterBookName,callback:function(t){e.filterBookName=t},expression:"filterBookName"}})],1),e._v(" "),a("span",[e._v("书类型："),a("el-input",{staticClass:"filter",model:{value:e.filterCategory,callback:function(t){e.filterCategory=t},expression:"filterCategory"}})],1),a("br"),e._v(" "),a("span",[e._v("版本："),a("el-input",{staticClass:"filter",model:{value:e.filterVersion,callback:function(t){e.filterVersion=t},expression:"filterVersion"}})],1),e._v(" "),a("el-button",{staticClass:"primary",attrs:{type:"primary"},on:{click:e.filterBook}},[e._v("筛选")])],1)])])],1),e._v(" "),a("hr"),e._v(" "),a("el-table",{ref:"multipleTable",staticClass:"bookData",staticStyle:{width:"100%"},attrs:{id:"out-table",data:e.tableData,"tooltip-effect":"dark"},on:{"selection-change":e.handleSelectionChange}},[1==e.permission?a("el-table-column",{attrs:{type:"selection",width:"55"}}):e._e(),e._v(" "),a("el-table-column",{attrs:{width:"50"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-dropdown",{directives:[{name:"show",rawName:"v-show",value:1==e.permission,expression:"permission == 1"}]},[a("span",{staticClass:"el-dropdown-link"},[a("i",{staticClass:"editor el-icon-caret-bottom"})]),e._v(" "),a("el-dropdown-menu",{attrs:{slot:"dropdown"},slot:"dropdown"},[a("el-dropdown-item",[a("router-link",{attrs:{to:{path:"/BookMangement/Editor",query:{bookOriginalInfo:t.row}}}},[e._v("\n                  编辑图书\n                ")])],1),e._v(" "),a("el-dropdown-item",[a("span",{on:{click:function(a){e.deleteBook(t.row.bookId)}}},[e._v("\n                删除图书\n                ")])])],1)],1)]}}])}),e._v(" "),a("el-table-column",{attrs:{prop:"bookName",label:"图书名",align:"center",width:"200","show-overflow-tooltip":!0}}),e._v(" "),a("el-table-column",{attrs:{prop:"category",label:"类型",align:"center",width:"170"}}),e._v(" "),a("el-table-column",{attrs:{prop:"version",label:"图书版本",width:"300",align:"center","show-overflow-tooltip":!0}}),e._v(" "),a("el-table-column",{attrs:{prop:"quantity",label:"数量",align:"center","show-overflow-tooltip":!0}})],1),e._v(" "),a("el-pagination",{staticClass:"pagination",attrs:{background:"","current-page":e.currentPage,"page-sizes":[5,7,10],"page-size":e.pagesize,layout:"total, sizes, prev, pager, next, jumper",total:e.bookCount},on:{"size-change":e.handleSizeChange,"current-change":e.handleCurrentChange}})],1)],1)},staticRenderFns:[]};var L=a("VU/8")(E,T,!1,function(e){a("a68A")},null,null).exports,M=window.sessionStorage.getItem("companyId"),z={data:function(){return{companyName:"",projectCount:0,show3:!1,currentPage:1,pagesize:10,tableData:[{companyId:"",projectId:"",ports:"",name:"",ip:"",location:""}],webapp:[{name:"",status:""}],dialogInfoVisible:!1,multipleSelection:[],dialogFormVisible:!1,dialogVisible:!1,editFormVisible:!1,formLabelWidth:"140px",checked:!0,addProjectIp:"",addProjectPort:"",addProjectName:"",addProjectLocation:"",companyId:"",projectId:"",name:"",ip:"",ports:"",location:"",tomcatVisible:!1,isDisabled:!1,filterProjectIp:"",filterProjectPorts:"",filterProjectName:"",checkAll:!1,checkedMembers:[],members:[{email:"",name:""}],isIndeterminate:!0,permission:"",temp:"",loading:!1}},created:function(){var e=this;this.loading=!0,this.permission=window.sessionStorage.getItem("permission");var t=new URLSearchParams;t.append("currentPage",this.currentPage),t.append("size",this.pagesize),this.$axios.get("/hrms//company/company.do",{params:{email:M}}).then(function(t){e.companyName=t.data.object.name}),this.$axios.post("/hrms//project/option.do?"+t.toString(),{companyId:M}).then(function(t){e.tableData=t.data.object.data,e.projectCount=t.data.object.recordSize}),this.$axios.get("/hrms//member/member.do?companyId="+M,{}).then(function(t){e.members=t.data.object,console.log(e.members)}),this.loading=!1},methods:{open:function(){this.$notify({title:"添加须知",message:'在tomcat的conf目录下tomcat-users.xml添加如下代码\n<role rolename="manager-gui"/>\n<role rolename="manager-script"/>\n<role rolename="manager-jmx"/>\n<role rolename="manager-status"/>\n<user username="tomcat" password="tomcat" roles="manager-gui,manager-script,manager-jmx,manager-status"/>\n并重启tomcat',duration:0})},editorProject:function(e){this.$router.push({path:"/ProjectManagement/Editor",query:{projectOriginalInfo:e}})},operateProject:function(e,t){var a=this,o=this.temp.ip,i=this.temp.ports;this.$axios.post("/hrms/project/operate.do?operation="+t,{companyId:M,ip:o,ports:i,name:e}).then(function(e){1===e.data.code?a.$message({type:"success",message:e.data.msg}):a.$message({type:"warning",message:e.data.msg})})},listProjectInTomcat:function(e){var t=this;this.$axios.post("/hrms/project/list.do",{companyId:M,ip:e.ip,ports:e.ports}).then(function(a){1===a.data.code?(t.webapp=a.data.object,t.temp=e,t.tomcatVisible=!0):t.$message({type:"warning",message:a.data.msg})})},addDataSave:function(){var e=this;this.dialogFormVisible=!1,this.$axios.post("/hrms/project/project.do",{companyId:M,name:this.addProjectName,ip:this.addProjectIp,ports:this.addProjectPort,location:this.addProjectLocation}).then(function(t){1===t.data.code&&(e.$message({type:"info",message:"添加成功!"}),window.location.reload())}).catch(function(e){alert(e)})},getFilterProjectInfo:function(){var e=this,t=new URLSearchParams;t.append("currentPage",this.currentPage),t.append("size",this.pagesize),this.$axios.post("/hrms//project/option.do?"+t.toString(),{companyId:M,name:this.filterProjectName,ip:this.filterProjectIp,ports:this.filterProjectPorts}).then(function(t){e.tableData=t.data.object.data,e.projectCount=t.data.object.recordSize}).catch(function(e){alert(e)})},infoMember:function(e){var t=this,a=[],o=this.checkedMembers,i=this.members;this.$confirm("此操作将发送邮件给选中联系人, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){for(var n=0;n<o.length;n++)for(var s=0;s<i.length;s++)if(o[n]==i[s].name){a[n]=i[s].email;break}var r=new URLSearchParams;r.append("companyId",M),r.append("projectId",e),t.$axios.post("/hrms//project/info.do?"+r.toString(),{memberEmails:a.toString()}).then(function(e){1==e.data.code?t.$message({type:"info",message:"发送成功!"}):t.$message({type:"warn",message:"发送失败!"})})})},deleteRow:function(e){var t=this,a=e;this.$confirm("此操作将永久删除该记录, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){t.$axios.post("/hrms//project/delProject.do",{companyId:M,projectId:a}).then(function(e){if(1==e.data.code){for(var o=0;o<t.tableData.length;o++)a===t.tableData[o].projectId&&t.tableData.splice(o,1);t.projectCount--,t.$message({type:"info",message:"删除成功!"})}else t.$message({type:"info",message:"删除失败!"})})})},handleSizeChange:function(e){this.pagesize=e},handleCurrentChange:function(e){var t=this;this.currentPage=e;var a=new URLSearchParams;a.append("currentPage",this.currentPage),a.append("size",this.pagesize),this.$axios.post("/hrms//project/option.do?"+a.toString(),{companyId:M}).then(function(e){console.log("展示第"+t.currentPage+"页项目信息成功"),t.tableData=e.data.object.data,t.projectCount=e.data.object.recordSize}).catch(function(e){alert(e)})},toggleSelection:function(e){var t=this;e?e.forEach(function(e){t.$refs.multipleTable.toggleRowSelection(e)}):this.$refs.multipleTable.clearSelection()},handleSelectionChange:function(e){for(var t=0;t<e.length;t++)this.multipleSelection[t]=e[t].projectId},removeSelection:function(){var e=this;this.$confirm("是否删除当前选中项目？","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){e.$axios.post("/hrms//project/delProjects.do?companyId="+M,{projectIds:e.multipleSelection}).then(function(){for(var t=0;t<e.multipleSelection.length;t++)for(var a=e.multipleSelection[t],o=0;o<e.tableData.length;o++)a===e.tableData[o].projectId&&e.tableData.splice(t,1);e.projectCount--}).catch(function(e){alert(e)})}).catch(function(){e.$message({type:"info",message:"已取消删除"})})},handleClose:function(e){this.$confirm("确认关闭？").then(function(){e()}).catch(function(){})},handleCheckAllChange:function(e){this.checkedMembers=e?this.members:[],this.isIndeterminate=!1},handleCheckedMembersChange:function(e){var t=e.length;this.checkAll=t===this.members.length,this.isIndeterminate=t>0&&t<this.members.length,console.log(this.checkedMembers)}}},V={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("router-view"),e._v(" "),a("div",{staticClass:"project_top"},[e._v("项目管理")]),e._v(" "),a("div",{staticClass:"contentP"},[a("p",[e._v(e._s(this.companyName))]),e._v(" "),a("el-dropdown",{directives:[{name:"show",rawName:"v-show",value:1==e.permission,expression:"permission == 1"}],staticClass:"moreMenu",attrs:{"split-button":"",type:"primary"},on:{click:function(t){e.dialogFormVisible=!0}}},[e._v("\n        添加项目\n        "),a("el-dialog",{attrs:{title:"添加项目",visible:e.dialogFormVisible,"append-to-body":!0,top:"100px",width:"550px",center:""},on:{"update:visible":function(t){e.dialogFormVisible=t}}},[a("el-form",[a("el-form-item",{attrs:{label:"项目名称","label-width":e.formLabelWidth}},[a("el-input",{staticClass:"increaseInput",attrs:{placeholder:"正确填写项目名"},model:{value:e.addProjectName,callback:function(t){e.addProjectName=t},expression:"addProjectName"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"IP地址","label-width":e.formLabelWidth}},[a("el-input",{staticClass:"increaseInput",attrs:{placeholder:"正确填写项目名"},model:{value:e.addProjectIp,callback:function(t){e.addProjectIp=t},expression:"addProjectIp"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"端口","label-width":e.formLabelWidth}},[a("el-input",{staticClass:"increaseInput",attrs:{placeholder:"正确填写端口"},model:{value:e.addProjectPort,callback:function(t){e.addProjectPort=t},expression:"addProjectPort"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"路径","label-width":e.formLabelWidth}},[a("el-input",{staticClass:"increaseInput",attrs:{placeholder:"正确填写路径"},model:{value:e.addProjectLocation,callback:function(t){e.addProjectLocation=t},expression:"addProjectLocation"}})],1)],1),e._v(" "),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(t){e.dialogFormVisible=!1}}},[e._v("取 消")]),e._v(" "),a("el-button",{attrs:{type:"primary"},on:{click:e.addDataSave}},[e._v("保存")])],1)],1)],1),e._v(" "),a("el-button",{staticClass:"filterDown",on:{click:function(t){e.show3=!e.show3}}},[e._v("筛选\n      ")]),e._v(" "),a("el-button",{attrs:{plain:""},on:{click:function(t){e.open()}}},[e._v("\n        使用手册\n      ")]),e._v(" "),a("div",{staticStyle:{"margin-top":"10px"}},[a("el-collapse-transition",[a("div",{directives:[{name:"show",rawName:"v-show",value:e.show3,expression:"show3"}]},[a("div",{staticClass:"transition-box"},[a("span",[e._v("项目名称："),a("el-input",{staticClass:"filter",model:{value:e.filterProjectName,callback:function(t){e.filterProjectName=t},expression:"filterProjectName"}})],1),e._v(" "),a("span",[e._v("项目IP："),a("el-input",{staticClass:"filter",model:{value:e.filterProjectIp,callback:function(t){e.filterProjectIp=t},expression:"filterProjectIp"}})],1),a("br"),e._v(" "),a("span",[e._v("项目端口："),a("el-input",{staticClass:"filter",model:{value:e.filterProjectPorts,callback:function(t){e.filterProjectPorts=t},expression:"filterProjectPorts"}})],1),e._v(" "),a("el-button",{staticClass:"primary",staticStyle:{"margin-left":"160px"},attrs:{type:"primary"},on:{click:e.getFilterProjectInfo}},[e._v("筛选")])],1)])])],1),e._v(" "),a("hr"),e._v(" "),a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],ref:"multipleTable",staticClass:"projectData",staticStyle:{width:"100%"},attrs:{data:e.tableData,"highlight-current-row":"true","tooltip-effect":"dark"}},[a("el-table-column",{attrs:{prop:"name",label:"项目名称",align:"center",width:"250","show-overflow-tooltip":!0}}),e._v(" "),a("el-table-column",{attrs:{prop:"ip",align:"center",label:"IP地址",width:"300","show-overflow-tooltip":!0}}),e._v(" "),a("el-table-column",{attrs:{prop:"ports",label:"项目端口",align:"center",width:"100","show-overflow-tooltip":!0}}),e._v(" "),a("el-table-column",{attrs:{prop:"location",label:"项目路径",align:"center",width:"300","show-overflow-tooltip":!0}}),e._v(" "),a("el-table-column",{directives:[{name:"show",rawName:"v-show",value:1==e.permission,expression:"permission == 1"}],attrs:{align:"center",label:"操作","show-overflow-tooltip":!0},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{attrs:{type:"text",size:"small"},on:{click:function(a){e.editorProject(t.row)}}},[e._v("编辑")]),e._v(" "),a("el-button",{attrs:{type:"text",size:"small"},on:{click:function(a){e.deleteRow(t.row.projectId)}}},[e._v("删除")]),e._v(" "),a("el-button",{attrs:{type:"text",size:"small"},on:{click:function(a){e.listProjectInTomcat(t.row)}}},[e._v("查看")])]}}])})],1),e._v(" "),a("el-dialog",{attrs:{title:"tomcat详情",visible:e.tomcatVisible,"append-to-body":!0,top:"100px",width:"400px",center:""},on:{"update:visible":function(t){e.tomcatVisible=t}}},[a("el-table",{ref:"multipleTable",staticClass:"bookData",staticStyle:{width:"100%"},attrs:{id:"out-table1",data:e.webapp,"tooltip-effect":"dark","highlight-current-row":!0}},[a("el-table-column",{attrs:{prop:"name",align:"center",label:"项目名",width:"150","show-overflow-tooltip":!0}}),e._v(" "),a("el-table-column",{attrs:{prop:"status",align:"center",label:"状态",width:"50","show-overflow-tooltip":!0}}),e._v(" "),a("el-table-column",{attrs:{fixed:"right",label:"操作",align:"center",width:"100"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{attrs:{type:"text",size:"small"},on:{click:function(a){e.operateProject(t.row.name,"start")}}},[e._v("重启")]),e._v(" "),a("el-button",{attrs:{type:"text",size:"small"},on:{click:function(a){e.operateProject(t.row.name,"stop")}}},[e._v("停止")])]}}])})],1),e._v(" "),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(t){e.tomcatVisible=!1}}},[e._v("关闭")])],1)],1),e._v(" "),a("el-pagination",{staticClass:"pagination",attrs:{background:"","current-page":e.currentPage,"page-sizes":[5,7,10],"page-size":e.pagesize,layout:"total, sizes, prev, pager, next, jumper",total:e.projectCount},on:{"size-change":e.handleSizeChange,"current-change":e.handleCurrentChange}})],1)],1)},staticRenderFns:[]};var D=a("VU/8")(z,V,!1,function(e){a("497H")},null,null).exports,B=window.sessionStorage.getItem("companyId"),F={data:function(){return{menuDefault:1,imageUrl:"",isCollapse:!1,dialogFormVisible:!1,formLabelWidth:"140px",companyName:"",companyId:"",newCompanyId:"",newCompanyName:"",newApplicantName:"",newOrganizationSize:"",newMainCategory:"",newViceCategory:"",newPassword:""}},created:function(){var e=this,t=window.sessionStorage.getItem("companyId");this.$axios.get("/hrms/index/index.do",{params:{companyId:t}}).then(function(t){var a=t.data.object.photoPath;e.imageUrl=null==a?"/hrms/photo/logo.png":"/hrms"+a}),this.$axios.get("/hrms/company/company.do",{params:{email:t}}).then(function(t){e.companyName=t.data.object.name})},methods:{handleAvatarSuccess:function(e,t){this.imageUrl=URL.createObjectURL(t.raw)},beforeAvatarUpload:function(e){var t=new FormData;return t.append("file",e),t.append("companyId",B),this.$axios.post("/hrms/index/photo.do",t).then(function(e){0==e.data.status?window.location.reload():alert(e.data.message)}),null},exit:function(){var e=this;this.$confirm("是否退出？","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warn"}).then(function(){window.sessionStorage.setItem("companyId",null),window.sessionStorage.setItem("permission",null),e.$router.push({path:"/"})})}}},A={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("el-container",[a("el-aside",{attrs:{width:"241px"}},[a("div",[a("el-menu",{staticClass:"el-menu-vertical-demo",attrs:{router:"","default-active":e.$route.path,"background-color":"#f1f2f4","text-color":"#878c87","active-text-color":"#5686dc"}},[a("div",{staticClass:"content"},[a("el-upload",{staticClass:"avatar-uploader",attrs:{action:"",accept:".jpg,.jpeg,.png,.gif,.bmp,.pdf,.JPG,.JPEG,.PBG,.GIF,.BMP,.PDF","show-file-list":!1,"on-success":e.handleAvatarSuccess,"before-upload":e.beforeAvatarUpload}},[a("img",{staticClass:"avatar logo",attrs:{title:"点击修改头像",src:e.imageUrl}})]),e._v(" "),a("p",[e._v(e._s(this.companyName))])],1),e._v(" "),a("el-tabs",{staticStyle:{height:"200px"}},[a("router-link",{attrs:{to:"/CompanyInfo"}},[a("el-menu-item",{attrs:{index:"/CompanyInfo"}},[a("i",{staticClass:"el-icon-info"}),e._v(" "),a("span",{attrs:{slot:"title"},slot:"title"},[e._v("\n                组织信息\n              ")])])],1),e._v(" "),a("router-link",{attrs:{to:"/MemberMangement"}},[a("el-menu-item",{attrs:{index:"/MemberMangement"}},[a("i",{staticClass:"el-icon-edit"}),e._v(" "),a("span",{attrs:{slot:"title"},slot:"title"},[e._v("\n                成员管理\n              ")])])],1),e._v(" "),a("router-link",{attrs:{to:"/ProjectManagement"}},[a("el-menu-item",{attrs:{index:"/ProjectManagement"}},[a("i",{staticClass:"el-icon-menu"}),e._v(" "),a("span",{attrs:{slot:"title"},slot:"title"},[e._v("\n                项目管理\n              ")])])],1),e._v(" "),a("el-submenu",{attrs:{index:"/"}},[a("template",{slot:"title"},[a("div",{staticStyle:{"padding-left":"20px"}},[a("i",{staticClass:"el-icon-tickets"}),e._v(" "),a("span",[e._v("图书管理")])])]),e._v(" "),a("el-menu-item-group",[a("router-link",{attrs:{to:"/BookManagement"}},[a("el-menu-item",{attrs:{index:"/BookManagement"}},[a("template",{slot:"title"},[a("i",{staticClass:"el-icon-goods"}),e._v("\n                    图书馆藏\n                  ")])],2)],1)],1)],2),e._v(" "),a("el-menu-item",{attrs:{index:""},on:{click:e.exit}},[a("i",{staticClass:"el-icon-warning"}),e._v(" "),a("span",{attrs:{slot:"title"},slot:"title"},[e._v("\n                注销\n              ")])])],1)],1)],1)]),e._v(" "),a("el-container",[a("el-main",[a("router-view")],1),e._v(" "),a("el-footer",[e._v("© 2018 重庆邮电大学经济管理学院信管工作室")])],1)],1)},staticRenderFns:[]};var q=a("VU/8")(F,A,!1,function(e){a("DnfT")},null,null).exports,W={name:"Login",data:function(){return{email:"",password:"",radio:"2",loading:!1}},methods:{onSubmit:function(){var e=this,t=this;this.loading=!0,this.$axios.post("/hrms/company/login.do",{permission:this.radio,email:this.email,password:this.password}).then(function(a){if(0==a.data.status){var o=a.data.object.permission;t.$store.commit("setIsLogin",!0),t.$store.commit("setCompanyId",a.data.object.companyId),t.$store.commit("setPermission",o),window.sessionStorage.setItem("isLogin",!0),window.sessionStorage.setItem("permission",o),window.sessionStorage.setItem("companyId",a.data.object.companyId),e.loading=!1,t.$router.push({path:"/CompanyInfo"})}else alert(a.data.message)}).catch(function(e){console.log(e)})},changeEmail:function(e){},changePassword:function(e){}}},R={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"box"},[a("el-card",{staticClass:"login-box-card"},[a("div",{staticClass:"main_title2"},[e._v("欢迎来到HRMS")]),e._v(" "),a("el-input",{staticClass:"input",attrs:{placeholder:"请输入邮箱","prefix-icon":"el-icon-info ",type:"email"},on:{input:e.changeEmail},model:{value:e.email,callback:function(t){e.email=t},expression:"email"}}),e._v(" "),a("el-input",{staticClass:"input",attrs:{placeholder:"请输入密码","prefix-icon":"el-icon-info",type:"password"},on:{input:e.changePassword},model:{value:e.password,callback:function(t){e.password=t},expression:"password"}}),e._v(" "),a("el-radio",{attrs:{label:"2"},model:{value:e.radio,callback:function(t){e.radio=t},expression:"radio"}},[e._v("成员")]),e._v(" "),a("el-radio",{attrs:{label:"1"},model:{value:e.radio,callback:function(t){e.radio=t},expression:"radio"}},[e._v("管理员")]),e._v(" "),a("el-button",{staticClass:"loginbutton",attrs:{type:"primary",loading:e.loading},on:{click:e.onSubmit}},[e._v("登陆")]),e._v(" "),a("div",{staticClass:"footer"},[e._v("还没有账号？"),a("router-link",{staticClass:"reg",attrs:{to:"/register"}},[e._v("注册")])],1)],1)],1)},staticRenderFns:[]};var O=a("VU/8")(W,R,!1,function(e){a("D3kN")},null,null).exports,U=function(e){for(var t=0;t<6;t++)if(1==e.isnext[t])return;0==e.gre?e.isdisabledFn=!0:e.isdisabledFn=!1},G={name:"Fristregister",data:function(){return{company:"",companyTips:"",hy:[],hyTips:"",companySize:"",companySizeTips:"",options:[{value:"互联网",label:"互联网",children:[{value:"电子商务",label:"电子商务"},{value:"网络安全",label:"网络安全"},{value:"软件研发",label:"软件研发"},{value:"硬件",label:"硬件"}]}],companyType:[{value:"小于50",label:"小于50"},{value:"51-100",label:"51-100"},{value:"100-1000",label:"100-1000"},{value:"1000+",label:"1000+"}],value:"",cpTips:"不能为空",name:"",email:"",password:"",mainCategory:"",viceCategory:"",gre:!1,nameTips:"",emailTips:"",passwordTips:"",isnext:[!0,!0,!0,!0,!0,!0],isdisabledFn:!0}},methods:{changeCompany:function(e){(this.isnext[0]=!0,this.isdisabledFn=!0,""!=e)?/^[\u4E00-\u9FA5]+$/.test(e)?(this.companyTips=" ",this.isnext[0]=!1,U(this)):this.companyTips="您输入的公司名非全汉字":this.companyTips="请输入公司名"},handleChange:function(e){this.isnext[1]=!1,U(this),console.log(e),this.mainCategory=e[0],this.viceCategory=e[1]},changeCompanySize:function(e){this.isnext[2]=!1,U(this)},open:function(){var e=this;this.$alert("这是一段内容","标题名称",{confirmButtonText:"确定",callback:function(t){e.$message({type:"info",message:"action: "+t})}})},changeName:function(e){(this.isdisabledFn=!0,this.isnext[3]=!0,""!=this.name)?/^[\u4E00-\u9FA5]+$/.test(e)?(this.nameTips=" ",this.isnext[3]=!1,U(this)):this.nameTips="您的输入有误,名字全为中文":this.nameTips=""},changeEmail:function(e){(this.isdisabledFn=!0,this.isnext[4]=!0," "!=this.email)?/^[\w\-\.]+@[\w\-\.]+(\.\w+)+$/.test(e)?(this.isnext[4]=!1,this.emailTips=" ",U(this)):this.emailTips="您输入的邮箱格式有误":this.emailTips=""},changePassword:function(e){(this.isdisabledFn=!0,this.isnext[5]=!0,""!=this.password)?/^[0-9a-z]{6,20}$/.test(e)?(this.passwordTips=" ",this.isnext[5]=!1,U(this)):this.passwordTips="您输入的密码格式有误":this.passwordTips=""},changeGre:function(e){U(this)},next:function(e){var t=this,a=this;this.$axios.post("/hrms/company/register.do",{email:this.email,password:this.password,organizationSize:this.companySize,name:this.company,mainCategory:this.mainCategory,viceCategory:this.viceCategory,applicantName:this.name}).then(function(e){0==e.data.status?(a.$store.commit("setCompanyId",a.email),window.sessionStorage.setItem("companyId",a.email),a.$store.commit("setPermission",1),window.sessionStorage.setItem("permission",1),t.$router.push({path:"/register/Secondregister"})):alert(e.data.message)})}}},J={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("div",{staticClass:"inputbox"},[a("div",{staticClass:"info st"},[e._v("组织信息")]),e._v(" "),a("el-input",{staticClass:"ip st",attrs:{placeholder:"组织或名称"},on:{input:e.changeCompany},model:{value:e.company,callback:function(t){e.company=t},expression:"company"}}),e._v(" "),a("span",{staticClass:"tip st"},[e._v(e._s(e.companyTips))]),e._v(" "),a("el-cascader",{staticClass:"st",attrs:{options:e.options,placeholder:"组织类别"},on:{change:e.handleChange},model:{value:e.hy,callback:function(t){e.hy=t},expression:"hy"}}),e._v(" "),a("span",{staticClass:"tip st"},[e._v(e._s(e.hyTips))]),e._v(" "),a("el-select",{staticClass:"st",attrs:{placeholder:"组织规模"},on:{change:e.changeCompanySize},model:{value:e.companySize,callback:function(t){e.companySize=t},expression:"companySize"}},e._l(e.companyType,function(e){return a("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})})),e._v(" "),a("span",{staticClass:"tip st"},[e._v(e._s(e.companySizeTips))]),e._v(" "),a("div",{staticClass:"info st"},[e._v("个人信息")]),e._v(" "),a("el-input",{staticClass:"st",attrs:{placeholder:"你的中文昵称"},on:{input:e.changeName},model:{value:e.name,callback:function(t){e.name=t},expression:"name"}}),e._v(" "),a("span",{staticClass:"tip st"},[e._v(e._s(e.nameTips))]),e._v(" "),a("el-input",{staticClass:"st",attrs:{placeholder:"你的邮箱"},on:{input:e.changeEmail},model:{value:e.email,callback:function(t){e.email=t},expression:"email"}}),e._v(" "),a("span",{staticClass:"tip st"},[e._v(e._s(e.emailTips))]),e._v(" "),a("el-input",{staticClass:"st",attrs:{type:"password",placeholder:"你的密码(包含数字、字母至少6位，不超过20位)"},on:{input:e.changePassword},model:{value:e.password,callback:function(t){e.password=t},expression:"password"}}),e._v(" "),a("span",{staticClass:"tip st"},[e._v(e._s(e.passwordTips))]),e._v(" "),a("el-checkbox",{staticClass:"st gre",on:{change:e.changeGre},model:{value:e.gre,callback:function(t){e.gre=t},expression:"gre"}},[e._v("阅读并同意\n      "),a("el-button",{staticClass:"xy",attrs:{type:"text"},on:{click:e.open}},[e._v("《服务协议》")])],1),e._v(" "),a("el-button",{staticClass:"st next",attrs:{type:"primary",disabled:e.isdisabledFn},on:{click:e.next}},[e._v("下一步")])],1)])},staticRenderFns:[]};var H=a("VU/8")(G,J,!1,function(e){a("JZIT")},"data-v-336b42bc",null).exports,Q={name:"Secondregister",data:function(){return{value:75,loading:!0,number:3}},mounted:function(){var e=this,t=setInterval(function(){e.number=e.number-1,e.number<=0&&(clearInterval(t),e.$router.push({path:"/home"}))},1e3)}},Z={render:function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"box"},[t("el-card",{staticClass:"box-card"},[t("div",{staticClass:"title"},[this._v("注册成功")]),this._v(" "),t("el-table",{directives:[{name:"loading",rawName:"v-loading",value:this.loading,expression:"loading"}],staticStyle:{width:"100%"}}),this._v(" "),t("div",{staticClass:"tips"},[this._v("\n  "+this._s(this.number)+"秒后自动跳转到主页\n")])],1)],1)},staticRenderFns:[]};var K=a("VU/8")(Q,Z,!1,function(e){a("iJrP")},null,null).exports,Y=window.sessionStorage.getItem("companyId"),X={data:function(){return{activeName:"first",formLabelWidth:"70px",companyId:Y,projectId:this.$route.query.projectOriginalInfo.projectId,name:this.$route.query.projectOriginalInfo.name,ip:this.$route.query.projectOriginalInfo.ip,ports:this.$route.query.projectOriginalInfo.ports,location:this.$route.query.projectOriginalInfo.location}},created:function(){},methods:{returnProject:function(){this.$router.push({name:"ProjectManagement"})},putEditorProjectInfo:function(){var e=this,t={companyId:this.companyId,projectId:this.projectId,name:this.name,ip:this.ip,ports:this.ports,location:this.location},a=k()(t);this.$axios.put("/hrms/project/project.do",{companyId:this.companyId,projectId:this.projectId,name:this.name,ip:this.ip,ports:this.ports,location:this.location}).then(function(t){console.log(t),e.$router.push({name:"ProjectManagement",params:{changedInfo:a}})}).catch(function(e){console.log(e)})}}},ee={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("div",{staticClass:"editorTop"},[a("sapn",[e._v("当前位置：")]),e._v(" "),a("el-breadcrumb",{staticClass:"breadcrumbEditor",attrs:{separator:">"}},[a("el-breadcrumb-item",[e._v("公司设置")]),e._v(" "),a("el-breadcrumb-item",{attrs:{to:{path:"/ProjectMangement"}}},[e._v("项目管理")]),e._v(" "),a("el-breadcrumb-item",[e._v("编辑项目")])],1)],1),e._v(" "),a("div",{attrs:{id:"editorTitle"}},[e._v("编辑项目")]),e._v(" "),a("el-tabs",{staticClass:"tabsEditor",attrs:{type:"card"},model:{value:e.activeName,callback:function(t){e.activeName=t},expression:"activeName"}},[a("el-tab-pane",{attrs:{label:"基本信息",name:"first"}},[a("el-form",{attrs:{model:e.form}},[a("el-form-item",{attrs:{label:"项目名称","label-width":e.formLabelWidth}},[a("el-input",{staticClass:"increaseInput",attrs:{placeholder:"项目名称"},model:{value:e.name,callback:function(t){e.name=t},expression:"name"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"项目Ip","label-width":e.formLabelWidth}},[a("el-input",{staticClass:"increaseInput",attrs:{placeholder:"项目地址"},model:{value:e.ip,callback:function(t){e.ip=t},expression:"ip"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"项目端口","label-width":e.formLabelWidth}},[a("el-input",{staticClass:"increaseInput",model:{value:e.ports,callback:function(t){e.ports=t},expression:"ports"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"项目路径","label-width":e.formLabelWidth}},[a("el-input",{staticClass:"increaseInput",model:{value:e.location,callback:function(t){e.location=t},expression:"location"}})],1)],1),e._v(" "),a("div",{staticClass:"sure"},[a("el-button",{on:{click:e.returnProject}},[e._v("取 消")]),e._v(" "),a("el-button",{attrs:{type:"primary"},on:{click:e.putEditorProjectInfo}},[e._v("保 存")])],1)],1)],1)],1)},staticRenderFns:[]};var te=a("VU/8")(X,ee,!1,function(e){a("nt43")},null,null).exports,ae=window.sessionStorage.getItem("companyId"),oe={data:function(){return{companyId:ae,bookId:this.$route.query.bookOriginalInfo.bookId,bookName:this.$route.query.bookOriginalInfo.bookName,category:this.$route.query.bookOriginalInfo.category,quantity:this.$route.query.bookOriginalInfo.quantity,version:this.$route.query.bookOriginalInfo.version,activeName:"first",formLabelWidth:"70px"}},created:function(){},methods:{returnManage:function(){this.$router.push({name:"BookManagement"})},putEditorBookInfo:function(){var e=this;this.$axios.put("/hrms/book/book.do",{companyId:ae,bookId:this.bookId,bookName:this.bookName,category:this.category,quantity:parseInt(this.quantity),version:this.version}).then(function(t){e.$message({type:"info",message:t.data.msg}),e.$router.push({name:"BookManagement"})})}}},ie={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("div",{staticClass:"editorTop"},[a("span",[e._v("当前位置：")]),e._v(" "),a("el-breadcrumb",{staticClass:"breadcrumbEditor",attrs:{separator:">"}},[a("el-breadcrumb-item",[e._v("公司设置")]),e._v(" "),a("el-breadcrumb-item",{attrs:{to:{path:"/BookMangement"}}},[e._v("图书管理")]),e._v(" "),a("el-breadcrumb-item",[e._v("编辑图书")])],1)],1),e._v(" "),a("div",{attrs:{id:"editorTitle"}},[e._v("编辑图书")]),e._v(" "),a("el-tabs",{staticClass:"tabsEditor",attrs:{type:"card"},model:{value:e.activeName,callback:function(t){e.activeName=t},expression:"activeName"}},[a("el-tab-pane",{attrs:{label:"基本信息",name:"first"}},[a("el-form",[a("el-form-item",{attrs:{label:"图书名","label-width":e.formLabelWidth}},[a("el-input",{staticClass:"increaseInput",attrs:{placeholder:"登录邮箱"},model:{value:e.bookName,callback:function(t){e.bookName=t},expression:"bookName"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"图书版本","label-width":e.formLabelWidth}},[a("el-input",{staticClass:"increaseInput",attrs:{placeholder:"图书版本"},model:{value:e.version,callback:function(t){e.version=t},expression:"version"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"类型","label-width":e.formLabelWidth}},[a("el-input",{staticClass:"increaseInput",attrs:{placeholder:"类型"},model:{value:e.category,callback:function(t){e.category=t},expression:"category"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"数量","label-width":e.formLabelWidth}},[a("el-input",{staticClass:"increaseInput",attrs:{placeholder:"数量"},model:{value:e.quantity,callback:function(t){e.quantity=t},expression:"quantity"}})],1)],1),e._v(" "),a("div",{staticClass:"sure"},[a("el-button",{attrs:{type:"primary"},on:{click:e.returnManage}},[e._v("取 消")]),e._v(" "),a("el-button",{attrs:{type:"primary"},on:{click:e.putEditorBookInfo}},[e._v("保 存")])],1)],1)],1)],1)},staticRenderFns:[]};var ne=a("VU/8")(oe,ie,!1,function(e){a("e8N3")},null,null).exports;o.default.use(l.a);var se=[{path:"/",name:"Login",meta:{requiresAuth:!1},component:O},{path:"/register",name:"Register",component:H,children:[{path:"/",name:"Fristregister",meta:{requiresAuth:!0},component:H}]},{path:"/register/Secondregister",name:"Secondregister",meta:{requiresAuth:!0},component:K},{path:"/Home",name:"Home",component:q,redirect:"/CompanyInfo",children:[{path:"/CompanyInfo",name:"CompanyInfo",meta:{requiresAuth:!0},component:w},{path:"/MemberMangement",name:"MemberMangement",meta:{requiresAuth:!0},component:C},{path:"/BookMangement/Editor",name:"EditorBook",meta:{requiresAuth:!0},component:ne},{path:"/MemberMangement/Editor",name:"Editor",meta:{requiresAuth:!0},component:S},{path:"/ProjectManagement",name:"ProjectManagement",meta:{requiresAuth:!0},component:D},{path:"/ProjectManagement/Editor",name:"EnditorProject",meta:{requiresAuth:!0},component:te},{path:"/BookManagement",name:"BookManagement",meta:{requiresAuth:!0},component:L}]}];window.sessionStorage.getItem("isLogin")&&f.commit("setIsLogin",window.sessionStorage.getItem("isLogin"));var re=new l.a({routes:se}),le=a("mtWM"),ce=a.n(le);o.default.use(n.a),o.default.config.productionTip=!1,o.default.prototype.$axios=ce.a,o.default.prototype.url="https://www.easy-mock.com/mock/5bcdabed0825025eae9abf12",new o.default({el:"#app",router:re,store:f,components:{App:r},template:"<App/>",render:function(e){return e(r)}}).$mount()},ONiP:function(e,t){},a68A:function(e,t){},e8N3:function(e,t){},hKJA:function(e,t){},iJrP:function(e,t){},nt43:function(e,t){},tvR6:function(e,t){},ymcE:function(e,t){}},["NHnr"]);
//# sourceMappingURL=app.6d176da9cc352ddd6bf3.js.map